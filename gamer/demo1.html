<!doctype html>
<html>
    <head>
        <meta charset="UTF-8" />
        <title>amo's demo1!</title>
        <script src="phaser.min.js"></script>
    </head>
    <body>
        <script type="text/javascript">
            (function() {
                //环境变量、缩小比例值
                var _scale = 0.5,
                    _viewPortWidth = 800,
                    _viewPortHeight = 590;

                // 变量的定义 
                var pic,
                    //bg,
                    music;
                
                // 资源预加载 
                function preload() {
                    game.load.image('pic', 'images/amo.gif');
                    game.load.audio('music', 'audio/music.mp3');
                }
                
                // 初始化 
                function create() {
                    game.stage.backgroundColor = '#FFFFFF';

                    game.input.touch.preventDefault = false;
                    
                    music = game.add.audio('music');
                    music.play();

                    pic = game.add.sprite(30, 30, 'pic');
                    pic.anchor.setTo(0.5, 0.5);

                    game.input.onDown.add(changeVolume, this);
                }
                
                // 改变音量 
                function changeVolume(pointer) {
                    if (pointer.y < 300) {
                        music.volume += 0.1;
                    } else {
                        music.volume -= 0.1;
                    }
                }

                // 每帧更新 
                function update() {
                    pic.rotation += 0.01;
                    //game.physics.moveToPointer(pic, 300, game.input.activePointer);
                }

                // 渲染
                function render() {
                }

                // phaser 实例           
                var game = new Phaser.Game(_viewPortWidth, _viewPortHeight, Phaser.AUTO, '', {
                    preload: preload, 
                    create: create, 
                    update: update, 
                    render: render 
                });

            })();
        </script>

    </body>
</html>
