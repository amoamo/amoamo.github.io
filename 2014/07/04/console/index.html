<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>console使用小技巧 | Do la a mo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="作为一个前端开发者，可能每天都会用到console对象的方法进行调试等，但是你真的了解console么？什么是console呢？
最初，console是firebug提供的一个内置对象，它可以用于我们跟踪调试在网页加载过程中的各类信息。
那么我们首先来看下它的基本用法。
一、基本用法
1console.log('log info');

根据信息的不同性质，console对象还有4种显示信息的方法">
<meta property="og:type" content="article">
<meta property="og:title" content="console使用小技巧">
<meta property="og:url" content="http://amoamo.github.io/2014/07/04/console/">
<meta property="og:site_name" content="Do la a mo">
<meta property="og:description" content="作为一个前端开发者，可能每天都会用到console对象的方法进行调试等，但是你真的了解console么？什么是console呢？
最初，console是firebug提供的一个内置对象，它可以用于我们跟踪调试在网页加载过程中的各类信息。
那么我们首先来看下它的基本用法。
一、基本用法
1console.log('log info');

根据信息的不同性质，console对象还有4种显示信息的方法">
<meta property="og:image" content="/css/images/console_0.jpg">
<meta property="og:image" content="/css/images/console_1.jpg">
<meta property="og:image" content="/css/images/console_2.jpg">
<meta property="og:image" content="/css/images/console_3.jpg">
<meta property="og:image" content="/css/images/console_4.jpg">
<meta property="og:image" content="/css/images/console_5.jpg">
<meta property="og:image" content="/css/images/console_6.jpg">
<meta property="og:image" content="/css/images/console_7.jpg">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="console使用小技巧">
<meta name="twitter:description" content="作为一个前端开发者，可能每天都会用到console对象的方法进行调试等，但是你真的了解console么？什么是console呢？
最初，console是firebug提供的一个内置对象，它可以用于我们跟踪调试在网页加载过程中的各类信息。
那么我们首先来看下它的基本用法。
一、基本用法
1console.log('log info');

根据信息的不同性质，console对象还有4种显示信息的方法">

  
    <link rel="alternative" href="/atom.xml" title="Do la a mo" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link rel="stylesheet" href="/css/style.css" type="text/css">

  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  
</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Do la a mo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
          <a class="main-nav-link" href="/www/games/flappybird.html" target="_blank">Game</a>
          <a class="main-nav-link" href="/www/demo/index.html" target="_blank">Demo</a>
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><input type="submit" value="&#xF002;" class="search-form-submit"><input type="hidden" name="q" value="site:http://amoamo.github.io"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article id="post-console" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/07/04/console/" class="article-date">
  <time datetime="2014-07-04T08:18:08.000Z" itemprop="datePublished">Jul 4 2014</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      console使用小技巧
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>作为一个前端开发者，可能每天都会用到console对象的方法进行调试等，但是你真的了解console么？什么是console呢？</p>
<p>最初，console是firebug提供的一个内置对象，它可以用于我们跟踪调试在网页加载过程中的各类信息。</p>
<p>那么我们首先来看下它的基本用法。</p>
<h3 id="一、基本用法">一、基本用法</h3>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">console.log(<span class="string">"log info"</span>);</div></pre></td></tr></table></figure>

<p>根据信息的不同性质，console对象还有4种显示信息的方法，分别是：</p>
<ul>
<li>一般信息console.info()</li>
<li>出错信息console.debug()</li>
<li>警告提示console.warn()</li>
<li>错误提示console.error()</li>
</ul>
<p><img src="/css/images/console_0.jpg" alt=""></p>
<h3 id="二、格式化输出">二、格式化输出</h3>
<p>console对象支持类似于C语言printf占位符写法的输出，一些复杂的输出利用这种方法可以让结构更加的清晰。</p>
<p>先看一个例子:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">console.log(<span class="string">'%d + %d = %d'</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span>);</div></pre></td></tr></table></figure>

<p><img src="/css/images/console_1.jpg" alt=""></p>
<p>console支持的占位符格式有如下几种：</p>
<ul>
<li><p>%s      :   字符串</p>
</li>
<li><p>%d / %i ：  整数</p>
</li>
<li><p>%f      ： 浮点数</p>
</li>
<li><p>%o / %O ： 对象，可以用来查看一个对象内部的情况。虽然对于普通对象这两者打印出来的信息是一样的，但是需要注意的是，在Chrome控制台中打印的如果是一个dom节点，那么此时二者是有区别的，%o打印的为和非格式化输出的结果一样，包括节点、内容、子节点等，但是对于%O来说，打印的是dom节点中各个对象的属性。</p>
</li>
<li><p>%c      ： css样式</p>
</li>
</ul>
<p>下面我们来看几个例子：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">//chrome中</div><div class="line">console.log(<span class="string">"%O"</span>,  document.body);</div><div class="line">console.log(<span class="string">"%o"</span>,  document.body);</div></pre></td></tr></table></figure>

<p><img src="/css/images/console_2.jpg" alt=""></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">console.log(<span class="string">"%c%s %chas %d fingers"</span>, <span class="string">"color:green;text-shadow:1px 1px 1px rgba(0,0,0,.2); font-size: 16pt"</span>, <span class="string">"amo"</span>, <span class="string">"color: #333333; font-size: 16pt"</span>, <span class="number">10</span>);</div></pre></td></tr></table></figure>

<p><img src="/css/images/console_3.jpg" alt=""></p>
<p>原来在控制台里还可以进行样式的控制，是不是很有趣？<strong>但是对于IE并不支持样式，所以注意哦</strong>既然可以加样式，自然而然就会问，那能不能进行图片的输出呢，答案是否定的（firefox提供console.image插件），可是我们可以通过背景图的方式来进行图片的输出。只是这里的图片大小需要通过padding和line-height来控制。用的时候请谨慎调节(chrome下生效)。</p>
<p>看个例子：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">//chrome</div><div class="line">console.log(<span class="string">"%c"</span>, <span class="string">"padding: 80px 100px;height:1px; background:url(http://p1.gexing.com/G1/M00/24/A6/rBACFFH2hjPAQgmdAAAVighCO6A353_200x200_3.jpg);line-height:200px"</span>);</div></pre></td></tr></table></figure>

<p><img src="/css/images/console_4.jpg" alt=""></p>
<h3 id="三、分组输出">三、分组输出</h3>
<p>如果需要打印较多的信息，可以利用分组输出进行结构化的管理。console.group()定义组的开始，console.groupEnd()定义组的结束。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">console.group(<span class="string">"amo"</span>);</div><div class="line">console.log(<span class="string">"a's hand"</span>);</div><div class="line">console.log(<span class="string">"a's work"</span>);</div><div class="line">console.groupEnd();</div><div class="line"></div><div class="line">console.group(<span class="string">"zicheng"</span>);</div><div class="line">console.log(<span class="string">"z's hand"</span>);</div><div class="line">console.log(<span class="string">"z's work"</span>);</div><div class="line">console.groupEnd();</div></pre></td></tr></table></figure>

<p><img src="/css/images/console_5.jpg" alt=""></p>
<h3 id="四、其他用法">四、其他用法</h3>
<ul>
<li>console.dir()显示一个对象所有的属性和方法</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">var cat = {<span class="string">"eyes"</span>: <span class="number">2</span>, <span class="string">"ears"</span>: <span class="number">2</span>, <span class="string">"sayHi"</span>: <span class="function"><span class="title">function</span></span>(){ <span class="keyword">return</span> <span class="string">"miao~"</span>; }};</div><div class="line">console.dir(cat);</div></pre></td></tr></table></figure>

<p><img src="/css/images/console_6.jpg" alt=""></p>
<ul>
<li><p>console.trace()追踪函数调用时的栈信息</p>
</li>
<li><p>计时功能</p>
</li>
</ul>
<p>console.time()和console.timeEnd()，利用它们分别在代码执行开始和结束时打上标识，以用来显示代码的运行时间。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">console.time(<span class="string">"for"</span>);</div><div class="line"><span class="keyword">for</span>(var i=<span class="number">0</span>;i&lt;<span class="number">1000</span>;i++){</div><div class="line">    <span class="keyword">for</span>(var j=<span class="number">0</span>;j&lt;<span class="number">1000</span>;j++){}</div><div class="line">}</div><div class="line">console.timeEnd(<span class="string">"for"</span>); //<span class="keyword">for</span>: <span class="number">3.000</span>ms</div></pre></td></tr></table></figure>

<ul>
<li>计数器</li>
</ul>
<p>console.count()，用于记录函数被调用的次数统计，在某些复杂场景的调试中很有用。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">function login(user) {</div><div class="line">    console.count(<span class="string">"Login called for user '"</span> +  user + <span class="string">"'"</span>);</div><div class="line">}</div><div class="line">login(<span class="string">"amo"</span>); //Login called <span class="keyword">for</span> user <span class="string">'amo'</span>: <span class="number">1</span></div><div class="line">login(<span class="string">"zicheng"</span>); //Login called <span class="keyword">for</span> user <span class="string">'zicheng'</span>: <span class="number">1</span></div></pre></td></tr></table></figure>

<ul>
<li>性能分析</li>
</ul>
<p>console.profile()，可以帮助我们进行性能分析，找出瓶颈。（firefox有效）</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">function <span class="function"><span class="title">Foo</span></span>(){</div><div class="line">    <span class="keyword">for</span>(var i=<span class="number">0</span>;i&lt;<span class="number">10</span>;i++){</div><div class="line">        funcA(<span class="number">1000</span>);</div><div class="line">    }</div><div class="line">    funcB(<span class="number">10000</span>);</div><div class="line">}</div><div class="line">function funcA(count){</div><div class="line">　　 <span class="keyword">for</span>(var i=<span class="number">0</span>;i&lt;count;i++){}</div><div class="line">}</div><div class="line">function funcB(count){</div><div class="line"> 　　<span class="keyword">for</span>(var i=<span class="number">0</span>;i&lt;count;i++){}</div><div class="line">}</div><div class="line">console.profile(<span class="string">'profile'</span>);</div><div class="line">Foo();</div><div class="line">console.profileEnd();</div></pre></td></tr></table></figure>

<p><img src="/css/images/console_7.jpg" alt=""></p>
<p>由上图可以看到各个函数执行的情况。</p>
<ul>
<li>清空所有调试信息</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">console.clear();</div></pre></td></tr></table></figure>

<h3 id="需要注意的是浏览器兼容性">需要注意的是浏览器兼容性</h3>
<p>对于IE较老版本，或者是某些属性，并不是所有浏览器都兼容的，所以调试信息请尽量在开发时使用，并不要带到线上。但是我们也看到有些网站会将招聘信息通过console.log()的方式输出到控制台中，这个时候就要注意做好兼容。以下为腾讯所做的处理，仅供参考。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div></pre></td><td class="code"><pre><div class="line">(<span class="function"><span class="title">function</span></span>(){</div><div class="line">    <span class="keyword">if</span>(!console || !console.log){</div><div class="line">        <span class="keyword">return</span>;</div><div class="line">    }</div><div class="line">    var toFixedVersion = function(ver, floatLength){</div><div class="line">        ver= (<span class="string">""</span>+ver).replace(/_/g,<span class="string">"."</span>);</div><div class="line">        floatLength = floatLength || <span class="number">1</span>;</div><div class="line">        ver = String(ver).split(<span class="string">"."</span>);</div><div class="line">        ver = ver[<span class="number">0</span>] + <span class="string">"."</span> + (ver[<span class="number">1</span>] || <span class="string">"0"</span>);</div><div class="line">        ver = Number(ver).toFixed(floatLength);</div><div class="line">        <span class="keyword">return</span> ver;</div><div class="line">    };</div><div class="line">    var ua = navigator.userAgent.toLowerCase(),</div><div class="line">    browserName,</div><div class="line">    browserVer,</div><div class="line">    s;</div><div class="line">    var <span class="keyword">set</span>Ver = function(name, ver){</div><div class="line">        browserName = name;</div><div class="line">        browserVer = ver;</div><div class="line">    };</div><div class="line">    (s = ua.match(/chrome\/([\d]+)/)) ? <span class="keyword">set</span>Ver(<span class="string">"chrome"</span>,toFixedVersion(s[<span class="number">1</span>])) : <span class="number">0</span>;</div><div class="line">    var isSupport = (browserName === <span class="string">'chrome'</span> && browserVer &gt;= <span class="number">25</span>);</div><div class="line">    <span class="keyword">if</span>(isSupport){</div><div class="line">        var imgList = [];</div><div class="line">        <span class="keyword">for</span>(var i = <span class="number">0</span>; i &lt; <span class="number">9</span>; i++){</div><div class="line">            imgList.push(<span class="string">'padding:49px 55.5px;line-height:111px;background:url(http://codestar.alloyteam.com/1/style/image/beauty'</span> + (i+<span class="number">1</span>) +   <span class="string">'.jpg) no-repeat;'</span>);</div><div class="line">        }</div><div class="line">        console.log(<span class="string">'%c云云无情，腾腾有爱'</span>, <span class="string">'font-size:18px;text-shadow: rgb(153, 153, 153) 2px 2px 2px;font-weight:bold;line-height:1.8;font  -family:"微软雅黑"'</span>);</div><div class="line">        console.log(<span class="string">'%c'</span>, imgList[Math.round(Math.random()*(imgList.length-<span class="number">1</span>))]);</div><div class="line">        console.log(<span class="string">'%c如果你没有100个“往来”好友，那就来腾讯领红包吧！红包精彩，腾讯更精彩！'</span>, <span class="string">'color:#08c;'</span>);</div><div class="line">        console.log(<span class="string">'http://www.ipresst.com/jointencent'</span>);</div><div class="line">        console.log(<span class="string">'\n-------------华丽的分割线-------------\n'</span>);</div><div class="line">        console.log(<span class="string">'%c【前端特工】\n“据内线消息，TX公司将于近期推出一个新的HTML5重磅产品。\n公司担心该产品会带来威胁，特命你潜入TX，探查底细  ……”\nhttp://codestar.alloyteam.com\n\n'</span>, <span class="string">'line-height:1.8;'</span>);</div><div class="line">    } <span class="keyword">else</span> {</div><div class="line">        console.log(<span class="string">'【云云无情，腾腾有爱】\n如果你没有100个“往来”好友，那就来腾讯领红包吧！红包精彩，腾讯更精彩！\nhttp://www.ipresst.com/jo  intencent'</span>);</div><div class="line">        console.log(<span class="string">'\n-------------华丽的分割线-------------\n'</span>);</div><div class="line">        console.log(<span class="string">'【前端特工】\n“据内线消息，TX公司将于近期推出一个新的HTML5重磅产品。\n公司担心该产品会带来威胁，特命你潜入TX，探查底细……  ”\nhttp://codestar.alloyteam.com\n\n'</span>);</div><div class="line">    }</div><div class="line">})();</div></pre></td></tr></table></figure>

<h3 id="参考资料">参考资料</h3>
<p><a href="https://developers.google.com/chrome-developer-tools/docs/console-api" target="_blank" rel="external">console-api</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://amoamo.github.io/2014/07/04/console/" data-id="sgmiv8xuvgjyx1wd" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2014/07/15/less/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          less入门
        
      </div>
    </a>
  
  
    <a href="/2014/07/01/cross_domain/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">跨域问题及解决方案</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/css/">css</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/javascript/">javascript</a><span class="category-list-count">1</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/cross-domain/">cross domain</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/css/">css</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/less-css/">less css</a><span class="tag-list-count">1</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/cross-domain/" style="font-size: 10.00px;">cross domain</a><a href="/tags/css/" style="font-size: 20.00px;">css</a><a href="/tags/less-css/" style="font-size: 10.00px;">less css</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/11">November 2014</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/08">August 2014</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/07">July 2014</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/06">June 2014</a><span class="archive-list-count">1</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recents</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2014/11/12/clip/">clip用法</a>
          </li>
        
          <li>
            <a href="/2014/08/06/css_selector/">css选择器</a>
          </li>
        
          <li>
            <a href="/2014/07/16/skills/">skills</a>
          </li>
        
          <li>
            <a href="/2014/07/15/less/">less入门</a>
          </li>
        
          <li>
            <a href="/2014/07/04/console/">console使用小技巧</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2014 Do la a mo<br>
      Powered by <a href="http://zespia.tw/hexo/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="/js/jquery.min.js"></script>


<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js" type="text/javascript"></script>

  </div>
</body>
</html>